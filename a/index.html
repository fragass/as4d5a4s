<!DOCTYPE html>
<html>
<head>
  <title>WASMpsx</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body, h1 { font-family: "Montserrat", sans-serif; }
    button { cursor: pointer; }
  </style>
</head>
<body>

<!-- Header -->
<div class="w3-opacity">
  <div class="w3-clear"></div>
  <header class="w3-center w3-margin-bottom">
    <h1><b>WASMpsx</b></h1>
    <p><b>A PlayStation emulator for your own uses.</b></p>
    <h1>Demo</h1>
  </header>
</div>

<!-- WASMpsx Player -->
<div class="w3-center">
  <wasmpsx-player id="my-wasmpsx-element"></wasmpsx-player>
</div>

<!-- Buttons -->
<div class="w3-center" style="margin: 10px 0;">
  <button onclick="loadROM()" style="background-color:#eee; border-color:#eee;">Load Silent Hill</button>
  <button onclick="document.getElementById('romInput').click()" style="background-color:#eee; border-color:#eee;">Choose a ROM</button>
  <input id="romInput" type="file" style="display:none;" onchange="document.getElementById('my-wasmpsx-element').readFile(this.files[0]);" />
</div>

<!-- About Section -->
<div class="w3-opacity">
  <div class="w3-clear"></div>
  <header class="w3-center w3-margin-bottom">
    <h1>About</h1>
  </header>
</div>

<div class="preview">
  <div class="preview__inner-1">
    <div class="preview__inner-2" style="padding: 10px 25px 50px;">
      <div class="cl-preview-section">
        <h1 id="wasmpsx">WASMpsx</h1>
        <p>A fork of TJWei’s PlayStation emulator to use for your own purposes.</p>
      </div>
      <div class="cl-preview-section">
        <h1 id="adding-to-website">Adding to website</h1>
        <p>To add this to your website, click <a href="http://download-wasmpsx.glitch.me/">here</a> to download the source.</p>
        <p>Add a <code>&lt;script&gt;</code> tag like this:</p>
        <pre><code>&lt;script src="path/to/wasmpsx.min.js"&gt;&lt;/script&gt;</code></pre>
      </div>
      <div class="cl-preview-section">
        <h1 id="usage">Usage</h1>
        <p>To load a ROM URL:</p>
        <pre><code>document.getElementById('my-wasmpsx-element').loadUrl('/path/to/rom.bin');</code></pre>
        <p>To load a file input:</p>
        <pre><code>document.getElementById('my-wasmpsx-element').readFile(file);</code></pre>
        <p>To display the emulator, add:</p>
        <pre><code>&lt;wasmpsx-player id="my-wasmpsx-element"&gt;&lt;/wasmpsx-player&gt;</code></pre>
      </div>
    </div>
  </div>
</div>

<script src="wasmpsx.min.js"></script>
<script>
  // Função para carregar o Silent Hill do Google Drive
  function loadROM() {
    const romUrl = "https://drive.google.com/uc?export=download&id=1aSobvOTOTidrf2nerB2iAxen9ad31jQq";
    document.getElementById('my-wasmpsx-element').loadUrl(romUrl);
  }

  // Ajuste do canvas do player
  setTimeout(function(){
    const canvas = document.querySelector('wasmpsx-player').shadowRoot.querySelector('canvas');
    canvas.style = "border: 0; background-color: black; display: block; margin: auto;";
  }, 100);
</script>

</body>
</html>
